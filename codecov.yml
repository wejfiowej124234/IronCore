# Codecov é…ç½® - ä¸¥æ ¼çš„è´¨é‡é—¨ç¦

coverage:
  status:
    project:
      default:
        # ğŸ”´ æ•´ä½“è¦†ç›–ç‡å¿…é¡» â‰¥ 75%
        target: 75%
        threshold: 0%  # ä¸å…è®¸è¦†ç›–ç‡ä¸‹é™
        if_ci_failed: error
    
    patch:
      default:
        # ğŸ”´ æ–°ä»£ç å¿…é¡» â‰¥ 80% è¦†ç›–ç‡
        target: 80%
        threshold: 0%
  
  # å…³é”®æ–‡ä»¶çš„è¦†ç›–ç‡è¦æ±‚
  precision: 2
  round: down
  range: "70...100"

# ğŸ” å…³é”®æ¨¡å—å¿…é¡»é«˜è¦†ç›–ç‡
flag_management:
  default_rules:
    carryforward: true
    statuses:
      - type: project
        target: 75%
      - type: patch
        target: 80%

# å¿½ç•¥çš„æ–‡ä»¶ï¼ˆä¸è®¡å…¥è¦†ç›–ç‡ï¼‰
ignore:
  - "tests/**/*"
  - "examples/**/*"
  - "src/bin/**/*"
  - "**/*_test.rs"

# è¯„è®ºè®¾ç½®
comment:
  layout: "reach,diff,flags,tree"
  behavior: default
  require_changes: false
  require_base: false
  require_head: true

# ğŸ”´ ä¸¥æ ¼æ¨¡å¼ï¼šä»»ä½•è¦†ç›–ç‡ä¸‹é™éƒ½ä¼šå¤±è´¥
parsers:
  gcov:
    branch_detection:
      conditional: yes
      loop: yes
      method: no
      macro: no

